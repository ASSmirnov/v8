{"version":3,"sources":["./src/app/views/core/fuel_speed_chart.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAA2D;AACP;AAgBpD,IAAa,IAAI;IAmBf,cAAoB,WAAwB;QAA5C,iBAKC;QALmB,gBAAW,GAAX,WAAW,CAAa;QAf5C,UAAK,GAAG,2BAA2B,CAAC;QAEpC,eAAU,GAAG,CAAC,EAAE,IAAI,EAAE,MAAM,EAAG,KAAK,EAAE,MAAM,EAAC;YAC/B,EAAE,IAAI,EAAE,MAAM,EAAG,KAAK,EAAE,iBAAiB,EAAE,QAAQ,EAAE,IAAI,EAAC;YAC1D,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,EAAE,EAAC;SACzD,CAAC;QACR,UAAK,GAAG,MAAM,CAAC;QACf,WAAM,GAAG,MAAM,CAAC;QAChB,cAAS,GAAG,EAAE,CAAC;QACf,kBAAa,GAAG,MAAM,CAAC;QAOrB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,UAAC,KAAK;YAC3C,KAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;YACnD,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,CAAC;IACJ,CAAC;IATD,qBAAM,GAAN,UAAO,IAAI,EAAE,EAAE;QACb,MAAM,CAAI,MAAI,CAAC,OAAO,cAAS,IAAI,YAAO,EAAI;IAChD,CAAC;IASD,uBAAQ,GAAR;QACE,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QACjC,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACzC,CAAC;IAEH,WAAC;AAAD,CAAC;AA3BiB,YAAO,GAAG,sBAAsB,CAAC;AAH7B;IAAnB,wFAAS,CAAC,OAAO,CAAC;;mCAAO;AAFf,IAAI;IAdhB,uFAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAE,qZAUX;KACA,CAAC;yDAoBiC,uEAAW,oBAAX,uEAAW;GAnBjC,IAAI,CAgChB;AAhCgB","file":"1.chunk.js","sourcesContent":["import {Component, ViewChild, OnInit} from \"@angular/core\";\nimport {TimeService} from \"../../services/services\";\n\n@Component({\n  selector: \"fuel_speed_chart\",\n  template: `<vg-chart #chart\n                       [title]=\"title\"\n                       [description]=\"''\"\n                       [dataFields]=\"dataFields\"\n                       [xtype]=\"xtype\"\n                       [xfield]=\"xfield\"\n                       [xinterval]=\"xinterval\"\n                       [selectorField]=\"selectorField\"\n                       >\n             </vg-chart>\n`\n})\nexport class View implements OnInit{\n\n  @ViewChild(\"chart\") chart;\n\n  title = \"График топлива и скорости\";\n  static readonly api_url = 'api/fuel_speed_chart';\n  dataFields = [{ name: 'date',  title: \"Дата\"},\n                { name: 'fuel',  title: \"Уровень топлива\", interval: 1000},\n                { name: 'speed', title: \"Скрорость\", interval: 50},\n        ];\n  xtype = \"date\";\n  xfield = \"date\";\n  xinterval = 10;\n  selectorField = \"fuel\";\n\n  getUrl(from, to){\n    return `${View.api_url}?from=${from}&to=${to}`\n  }\n\n  constructor(private timeService: TimeService){\n    this.timeService.controlChange.subscribe((event)=>{\n        this.chart.url = this.getUrl(event.from, event.to);\n        this.chart.refresh();\n    })\n  }\n\n  ngOnInit(): void {\n    let from = this.timeService.from;\n    let to = this.timeService.to;\n    this.chart.url = this.getUrl(from, to);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/views/core/fuel_speed_chart.ts"],"sourceRoot":"webpack:///"}